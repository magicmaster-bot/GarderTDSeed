-- AutoInteract + NameTag + AutoSpeed
-- LocalScript (Client Side)

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")

-- =========================
-- Config
-- =========================
local MAX_DISTANCE = 50         -- khoáº£ng cÃ¡ch tÆ°Æ¡ng tÃ¡c (studs)
local CurrentDelay = 2          -- delay auto interact (giÃ¢y)
local AutoInteractEnabled = false
local NAMETAG_UPDATE_INTERVAL = 0.5  -- cáº­p nháº­t tÃªn má»—i 0.5s
local TARGET_SPEED = 60         -- tá»‘c Ä‘á»™ mong muá»‘n

-- =========================
-- GUI
-- =========================
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AutoInteractGUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = game:GetService("CoreGui")

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 230, 0, 190)
MainFrame.Position = UDim2.new(0.05, 0, 0.3, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 10)

local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.Size = UDim2.new(1, 0, 0, 28)
Title.BackgroundTransparency = 1
Title.Text = "âš™ï¸ Auto Interact + Speed 60"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 18
Title.Font = Enum.Font.GothamBold

local CloseButton = Instance.new("TextButton")
CloseButton.Parent = MainFrame
CloseButton.Size = UDim2.new(0, 25, 0, 25)
CloseButton.Position = UDim2.new(1, -30, 0, 3)
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 70, 70)
CloseButton.BackgroundTransparency = 1
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 16

local ToggleButton = Instance.new("TextButton")
ToggleButton.Parent = MainFrame
ToggleButton.Size = UDim2.new(0, 190, 0, 35)
ToggleButton.Position = UDim2.new(0, 20, 0, 40)
ToggleButton.Text = "ðŸ”´ OFF"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.TextSize = 16
Instance.new("UICorner", ToggleButton)

local DelayLabel = Instance.new("TextLabel")
DelayLabel.Parent = MainFrame
DelayLabel.Size = UDim2.new(1, -40, 0, 20)
DelayLabel.Position = UDim2.new(0, 20, 0, 85)
DelayLabel.BackgroundTransparency = 1
DelayLabel.Text = "Delay: " .. tostring(CurrentDelay) .. "s"
DelayLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
DelayLabel.Font = Enum.Font.Gotham
DelayLabel.TextSize = 14
DelayLabel.TextXAlignment = Enum.TextXAlignment.Left

local DelayButton = Instance.new("TextButton")
DelayButton.Parent = MainFrame
DelayButton.Size = UDim2.new(0, 190, 0, 25)
DelayButton.Position = UDim2.new(0, 20, 0, 110)
DelayButton.Text = "â± Increase Delay"
DelayButton.TextColor3 = Color3.fromRGB(255, 255, 255)DelayButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
DelayButton.Font = Enum.Font.Gotham
DelayButton.TextSize = 14
Instance.new("UICorner", DelayButton)

local DistanceLabel = Instance.new("TextLabel")
DistanceLabel.Parent = MainFrame
DistanceLabel.Size = UDim2.new(1, -40, 0, 20)
DistanceLabel.Position = UDim2.new(0, 20, 0, 140)
DistanceLabel.BackgroundTransparency = 1
DistanceLabel.Text = "Distance: " .. tostring(MAX_DISTANCE) .. " studs"
DistanceLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
DistanceLabel.Font = Enum.Font.Gotham
DistanceLabel.TextSize = 14
DistanceLabel.TextXAlignment = Enum.TextXAlignment.Left

local DistanceButton = Instance.new("TextButton")
DistanceButton.Parent = MainFrame
DistanceButton.Size = UDim2.new(0, 190, 0, 25)
DistanceButton.Position = UDim2.new(0, 20, 0, 165)
DistanceButton.Text = "ðŸ“ Increase Distance"
DistanceButton.TextColor3 = Color3.fromRGB(255, 255, 255)
DistanceButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
DistanceButton.Font = Enum.Font.Gotham
DistanceButton.TextSize = 14
Instance.new("UICorner", DistanceButton)

local ToggleGUIButton = Instance.new("TextButton")
ToggleGUIButton.Parent = ScreenGui
ToggleGUIButton.Size = UDim2.new(0, 100, 0, 35)
ToggleGUIButton.Position = UDim2.new(0.05, 0, 0.8, 0)
ToggleGUIButton.Text = "Show GUI"
ToggleGUIButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleGUIButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
ToggleGUIButton.Font = Enum.Font.GothamBold
ToggleGUIButton.TextSize = 14
Instance.new("UICorner", ToggleGUIButton)
ToggleGUIButton.Visible = false

-- GUI behavior
CloseButton.MouseButton1Click:Connect(function()
	MainFrame.Visible = false
	ToggleGUIButton.Visible = true
end)
ToggleGUIButton.MouseButton1Click:Connect(function()
	MainFrame.Visible = true
	ToggleGUIButton.Visible = false
end)
ToggleButton.MouseButton1Click:Connect(function()
	AutoInteractEnabled = not AutoInteractEnabled
	if AutoInteractEnabled then
		ToggleButton.Text = "ðŸŸ¢ ON"
		ToggleButton.BackgroundColor3 = Color3.fromRGB(50, 200, 100)
	else
		ToggleButton.Text = "ðŸ”´ OFF"
		ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
	end
end)
DelayButton.MouseButton1Click:Connect(function()
	CurrentDelay = CurrentDelay + 0.5
	if CurrentDelay > 5 then CurrentDelay = 0.5 end
	DelayLabel.Text = "Delay: " .. tostring(CurrentDelay) .. "s"
end)
DistanceButton.MouseButton1Click:Connect(function()
	MAX_DISTANCE = MAX_DISTANCE + 10
	if MAX_DISTANCE > 200 then MAX_DISTANCE = 10 end
	DistanceLabel.Text = "Distance: " .. tostring(MAX_DISTANCE) .. " studs"
end)

-- =========================
-- Auto speed (maintain 60)
-- =========================
RunService.Heartbeat:Connect(function()
	local char = LocalPlayer.Character
	if char then
		local hum = char:FindFirstChildOfClass("Humanoid")
		if hum and hum.WalkSpeed ~= TARGET_SPEED then
			hum.WalkSpeed = TARGET_SPEED
		end
	end
end)

-- =========================
-- Auto interact
-- =========================
local function getHRP()
local char = LocalPlayer.Character
	if not char then return nil end
	return char:FindFirstChild("HumanoidRootPart")
end

local function getNearestInteractable(hrp)
	local nearest, shortest = nil, MAX_DISTANCE
	for _, obj in ipairs(Workspace:GetDescendants()) do
		if obj:IsA("ProximityPrompt") or obj:IsA("ClickDetector") or obj:IsA("TouchTransmitter") then
			local base = obj:IsA("BasePart") and obj or obj:FindFirstAncestorWhichIsA("BasePart")
			if base and hrp then
				local dist = (base.Position - hrp.Position).Magnitude
				if dist < shortest then
					shortest = dist
					nearest = obj
				end
			end
		end
	end
	return nearest
end

task.spawn(function()
	while true do
		if AutoInteractEnabled then
			local hrp = getHRP()
			if hrp then
				local nearest = getNearestInteractable(hrp)
				if nearest then
					pcall(function()
						if nearest:IsA("ProximityPrompt") then
							fireproximityprompt(nearest)
						elseif nearest:IsA("ClickDetector") then
							fireclickdetector(nearest)
						elseif nearest:IsA("TouchTransmitter") and nearest.Parent then
							firetouchinterest(hrp, nearest.Parent, 0)
							firetouchinterest(hrp, nearest.Parent, 1)
						end
					end)
				end
			end
		end
		task.wait(CurrentDelay)
	end
end)

-- =========================
-- NameTag
-- =========================
local function createOrUpdateNameTag(plr)
	if plr == LocalPlayer then return end
	if not plr.Character then return end
	local head = plr.Character:FindFirstChild("Head")
	if not head then return end

	local existing = head:FindFirstChild("NameTag")
	if existing then
		local lbl = existing:FindFirstChildOfClass("TextLabel")
		if lbl then lbl.Text = plr.Name end
		return
	end

	local tag = Instance.new("BillboardGui")
	tag.Name = "NameTag"
	tag.Adornee = head
	tag.Size = UDim2.new(0, 150, 0, 40)
	tag.AlwaysOnTop = true
	tag.StudsOffset = Vector3.new(0, 1.6, 0)
	tag.Parent = head

	local lbl = Instance.new("TextLabel")
	lbl.Parent = tag
	lbl.Size = UDim2.new(1, 0, 1, 0)
	lbl.BackgroundTransparency = 1
	lbl.Text = plr.Name
	lbl.TextColor3 = Color3.fromRGB(200, 20, 20)
	lbl.TextStrokeTransparency = 0
	lbl.TextScaled = true
	lbl.Font = Enum.Font.GothamBold
end

task.spawn(function()
	while true do
		for _, p in ipairs(Players:GetPlayers()) do
			pcall(function() createOrUpdateNameTag(p) end)
		end
		task.wait(NAMETAG_UPDATE_INTERVAL)
	end
end)
